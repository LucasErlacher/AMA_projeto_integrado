language: java

sudo: enable

dist: trusty

jdk:
 - oraclejdk8

addons:
  sonarcloud:
    organization: "lucaserlacher-github"
    token:
      secure: $sonnar_key

script:  
  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar

after_success:
    - HEROKU_API_KEY=$HEROKU_API_KEY mvn clean heroku:deploy-war
branches:
  only:
    - master
    - devTarcisio
    - devCaio
    - devLucas

notifications:
  slack: bsi-ifserra:RCNpHRd9ys5acaqRPaFcNjVL
